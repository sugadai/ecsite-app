"use strict";var _require=require("ejs"),render=_require.render,express=require("express"),mysql=require("mysql"),bodyParser=require("body-parser"),con=require("./db/dbconnect"),router=require("./routes/router"),productrouter=require("./routes/productrouter"),session=require("express-session"),app=express(),PORT=3e3;app.set("view engine","ejs"),app.use(express.static("public")),app.use(bodyParser.urlencoded({extended:!0})),app.use(express.json()),app.use(session({secret:"your_secret_key",resave:!1,saveUninitialized:!0,cookie:{httpOnly:!0,sameSite:"strict",maxAge:864e5}})),app.use(function(e,s,o){console.log(e.session.username),void 0===e.session.userid?(console.log(e.session.userid),console.log("ログインしていません。"),s.locals.username="ゲスト"):(s.locals.username=e.session.username,s.locals.email=e.session.email,void 0!==e.session.addProduct&&(console.log("a"),s.locals.addProduct=e.session.addProduct),console.log(e.session.addProduct),console.log("ログイン中ユーザーID"+e.session.userid)),o()}),app.use("/api/v1/",router),con.connect(function(e){if(e)throw e;console.log("MySQL Connection!")}),app.listen(PORT,console.log("Server Start on port Number ".concat(PORT)));
//# sourceMappingURL=app.min.js.map
